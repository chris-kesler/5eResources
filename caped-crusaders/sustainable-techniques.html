<!--
|| =========================================================================================
|| This is a DYNAMIC INDEX page
||
|| The HEADER and FOOTER are POPULATED elements found across the site
|| The CONTENT element is DYNAMIC
|| The BACKGROUND element is FIXED across the subsite
|| The TITLE is POPULATED for this page
|| ========================================================================================= 
-->
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>KnowOne's Website of Everything</title>
		<link rel="icon" href="/resources/images/OwlOfMinerva_ModifiedLogo.png">
		<link rel="stylesheet" href="/styles-common.css">
		<link rel="stylesheet" href="/styles-caped-crusaders.css">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

		<!-- Misc Javascript functions -->
		<script type="text/javascript" src="/resources/scripts/function-titleCase.js"></script>
		<script type="text/javascript" src="/resources/scripts/function-hideShowNavList.js"></script>
		<script type="text/javascript" src="/resources/scripts/function-readArgs.js"></script>

		<!-- Importing Header and Footer -->
		<script type="text/javascript" src="/resources/scripts/load-header-footer.js"></script>

		<!-- Populating Title Table -->
		<script type="text/javascript" src="/resources/scripts/load-title-directories.js"></script>
		<script type="text/javascript" src="/resources/scripts/load-title-name.js"></script>

		<!-- Dynamic Table functions -->
		<script type="text/javascript" src="/resources/scripts/function-sortDynamicTable.js"></script>
		<script type="text/javascript" src="/resources/scripts/function-filterDynamicTable.js"></script>

		<!-- Populating Dynamic Table -->
		<script type="text/javascript" src="/resources/scripts/load-dynamic-filters-sustainables.js"></script>
		<script>
			$(function readJSON() {

				// Reading data from our JSON file
				$.getJSON('techniques.json', function(data) {

					// Looping through the JSON data 
					$.each(data.entries, function(i, f) {

						// Initializing a default credit and author variable then reading its true value based on a subset within the JSON file
						type_credit = "---";
						$.each(data.type, function(x, y) {
							if (f.type_str == y.type_name) {
								type_credit = y.type_credit;
							}
						});
						author_credit = "---";
						$.each(data.author, function(x, y) {
							if (f.source_str == y.author_name) {
								author_credit = y.author_credit;
								content_source = y.content_source;
							}
						});

			
						// Defining the table row that contains each entry in the table
						var table_row = "<tr>" 
							+ "<td><a href='sustainable-techniques/entry-page.html?name=" + f.name_str.toLowerCase().replace(/\s/g, '-').replace("'", "") + "' target='_blank'>" + f.name_str + "</a></td>" 
							+ "<td>" + f.level_str + "</td>" 
							+ "<td>" + "<img class='directory-page-dynamic-table-entry-image' src=/resources/images/" + f.type_str + ".png><br>" + f.type_str + "</td>" 
							+ "<td>" + f.attack_save_str + "</td>" 
							+ "<td>" + f.damage_effect_str + "</td>" 
							+ "<td>" + f.class_str + "</td>" 
							+ "<td><a target='blank' href='" + content_source + "'>" + f.source_str + "</a></td>" 
							+ "</tr>"

						// Adding the row to the table
						$(table_row).appendTo("#dynamic-index-table tbody");
					});
				});
			});
		</script>

	</head>
	<body>

		<!-- A div for the page BACKGROUND -->
		<div id="fixed-background-div-caped-crusaders">
			
			<!-- A div for the page HEADER -->
			<div id="populated-header-div"></div>
			
			<!-- A section for the page CONTENT -->
			<section class="fixed-content-section">
			
				<!-- A table for the page TITLE -->
				<table id="populated-title-table"><thead><tr><td colspan="6"><h2 id="populated-title-table-thead"></h2></td></tr></thead><tbody>
					<tr>
						<td>
							<!-- The include filters are a series of text boxes that can be filled to hide elements that do not contain the string entered within the designated attribute  -->
							<h3>Include Filters</h3>
							<p id="include-filters"></p>
						</td>
					</tr>
					<tr>
						<td>
							<!-- The exclude filters are a series of text boxes that can be filled to hide elements that do contain the string entered within the designated attribute  -->
							<h3>Exclude Filters</h3>
							<p id="exclude-filters"></p>
						</td>
					</tr>
				</tbody></table>
				
				<!-- A div for the page DESCRIPTION -->
				<div id="blended-description-div">

					<!-- This is the dynamic table that contains the entries being filtered -->
					<h3>Sortable Entries</h3>
					<table id="dynamic-index-table">
						
						<!-- The buttons that designate the column data and serve as the header can be clicked to sort the entries in ascending or descending order -->
						<thead class="header" id="directory-page-dynamic-table-header"></thead>

						<!-- The empty table body -->
						<tbody></tbody>
					</table>
				</div>
			</section>
			
			<!-- A div for the page FOOTER -->
			<div id="populated-footer-div"></div>
		</div>
	</body>
</html>