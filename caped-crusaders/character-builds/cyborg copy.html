<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-US-Compatible" content="e-edge">
    <title>KnowOne's Website of Everything</title>
    <link rel="icon" href="/_SiteResources/Images/OwlOfMinerva_ModifiedLogo.png">
    <link rel="stylesheet" href="/caped-crusaders-style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>  
    <script>
      $(function importContent() {
        $(".Import_PageHeader").load("/_SiteResources/Pages/Import_PageHeader.html");
        $(".Import_PageFooter").load("/_SiteResources/Pages/Import_PageFooter.html");
      });
      $(function readCharacter() {
        var characters = [];
        $.getJSON('../character-builds.json', function(data) {
          var path = window.location.pathname;
          var page = path.split("/").pop();
          $.each(data.character, function(i, f) {
            if (f.page_url == page) {
              document.getElementById("class-page-title").innerHTML = "Caped Crusaders: Classes > " + f.name_str;
              document.getElementById("class-image").src = "/_SiteResources/Images/" + f.class_str + ".png";
              document.getElementById("class-image").alt = f.class_img_credit;
              document.getElementById("subclass-image").src = "/_SiteResources/Images/" + f.class_str + "-" + f.subclass_str + ".png";
              document.getElementById("subclass-image").alt = f.class_img_credit;
              document.getElementById("build-description").innerHTML = f.build_overview;
              var tblRow = "<td>" + f.race_str + "<br><br>" + f.race_description + "</td><td>" + f.background + "<br><br>" + f.background_description + "</td><td>" + f.strength_initial + "<br><br><b>" + f.strength_resolved + "</b></td><td>" + f.dexterity_initial + "<br><br><b>" + f.dexterity_resolved + "</td><td>" + f.constitution_initial + "<br><br><b>" + f.constitution_resolved + "</td><td>" + f.intelligence_initial + "<br><br><b>" + f.intelligence_resolved + "</td><td>" + f.wisdom_initial + "<br><br><b>" + f.wisdom_resolved + "</td><td>" + f.charisma_initial + "<br><br><b>" + f.charisma_resolved + "</td><td>" + f.starting_equipment + "</td>"
              $(tblRow).appendTo("#build-setup-table tbody");
              // var build_class = f.class_str;

              // $(function readClass() {
              //   var classes = [];
              //   $.getJSON('../classes.json', function(data) {
              //     var path = window.location.pathname;
              //     var page = path.split("/").pop();
              //     $.each(data.class, function(m, n) {
              //       if (m.name_str == buid_class) {
              //         hit_points_starting = m.hit_die_int;
              //         hit_points_levels = m.hit_die_average_int;
              //       }
              //     });
              //   });
              // });

              for (let i = 0; i < 20; i++) {
                var features = "---";
                for (let k = 0; k < f.level_guide.length; k++) {
                  if (f.level_guide[k].level == (i+1)) {
                    features = f.level_guide[k].feature;
                  }
                }
                
                if (f.class_type == "Martial, Primary") {
                  subclass_active = 3;
                } else {
                  subclass_active = 2;
                }

                var class_subclass = "---";
                for (let k = 0; k < f.level_guide.length; k++) {
                  if (subclass_active <= (i+1)) {
                    class_subclass = f.class_str + ": " + f.subclass_str;
                  } else {
                    class_subclass = f.class_str;
                  }
                }

                // hit_points = hit_die_int + (i*hit_die_average_int) + ((i+1)*constitution_modifier);

                var tblRow = "<tr><td>" + (i+1) + "</td><td>" + class_subclass + "</td><td>" + hit_points + "</td><td>" + features + "</td></tr>"
                $(tblRow).appendTo("#build-level-table tbody");
              }
            }
          });
        });
      });
    </script>
  </head>


  <body>
    <div class="PageContainer, PlanesMapBackground"> 
      <div class="PageHeader">
        <div class="Import_PageHeader"></div>
          <h1 class="header" id="class-page-title"></h1>
          <hr>
      </div>
        

      <div class="PageContent">
        <div class="AnchorCenter">
          
          <div class="AnchorRight">

            <section class="PageContentRight">
              <button class="WikiBackButton" onclick="location.href='../classes.html'">Out to Classes</button>
              <h2>Overview</h2>
              <hr>
              <img id="class-image" class="class-image-medium" alt="Class Image">
              <p id="build-description"></p>
              
              <hr>
              <img id="subclass-image" class="class-image-medium" alt="Class Image">
              <h2>Build Setup</h2>
              <p id="build-setup-overview">We'll take the following setup prior to our class levels.  </p>
              <table class="build-table" id="build-setup-table">
                <thead>
                  <th>Race</th>
                  <th>Background</th>
                  <th>STR</th>
                  <th>DEX</th>
                  <th>CON</th>
                  <th>INT</th>
                  <th>WIS</th>
                  <th>CHA</th>
                  <th>Starting Equipment</th>
                </thead>
                <tbody></tbody>
              </table>
                                            
              <hr>
              <h2>Build Setup</h2>
              <p id="build-level-overview">We'll take features based on the following table to initiate and progress through our build.  </p>

              <table id="build-level-table" class="build-table">
                <thead>
                  <th style="width: 5vw">Level</th>
                  <th style="width: 10vw">Class/Subclass</th>
                  <th style="width: 10vw">Hit Points/Dice</th>
                  <th style="width: 30vw">Features</th>
                  <th style="width: 10vw">Sustainables</th>
                  <th style="width: 10vw">Consumables</th>
                </thead>
                <tbody></tbody>
              </table>
            </section>

          </div>
        </div>
      </div>

      <footer class="Import_PageFooter"></footer>

    </div>

  </body>
</html>

