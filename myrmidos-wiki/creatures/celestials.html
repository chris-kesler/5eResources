<!DOCTYPE html>
<!-- =========================================================================================
  This is a DIRECTORY page.  It contains HEADER, BACKGROUND, CONTENT, and FOOTER elements that are standard across the site.
  It also contains TITLE, PAGE LIST, and DESCRIPTION elements that are unique and static as a DIRECTORY page.
========================================================================================= -->
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-US-Compatible" content="e-edge">
    <title>KnowOne's Website of Everything</title>
    <link rel="icon" href="/resources/images/OwlOfMinerva_ModifiedLogo.png">
    <link rel="stylesheet" href="/caped-crusaders-style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>

      // A function that capitalizes the first letter of each word in a string
      function titleCase(str) {
        var split_string = str.toLowerCase().split(' ');
        for (var i = 0; i < split_string.length; i++) {
          split_string[i] = split_string[i].charAt(0).toUpperCase() + split_string[i].substring(1);     
        }
        return split_string.join(' '); 
      }


      // The function that populates all page data into preset elements
      $(function populatePageData() {


// =========================================================================================
// Populating the page HEADER
// 
// The page HEADER, BACKGROUND, CONTENT, and FOOTER are static
// =========================================================================================
        $("#import-header").load("/resources/pages/import-header.html");


// =========================================================================================
// Populating the page TITLE
// 
// The page TITLE can include a table of details for spells or monster statblocks
// If title_library does not have a table_row library, the table of details is hidden and only the TITLE path is populated
// =========================================================================================
        
        // Reading the name of this file
        var page_array = window.location.pathname.split("/");
        var page_array_length = page_array.length;

        if (page_array.length == 5) {
          var page_title = page_array.pop();
          var page_category = page_array.pop();
          var page_directory = page_array.pop();
          var page_subsite = page_array.pop();
          var page_site = page_array.pop();
        } else if (page_array.length == 4) {
          var page_title = page_array.pop();
          var page_directory = page_array.pop();
          var page_subsite = page_array.pop();
          var page_site = page_array.pop();
        } else if (page_array.length == 3) {
          var page_title = page_array.pop();
          var page_subsite = page_array.pop();
          var page_site = page_array.pop();
        } else if (page_array.length == 2) {
          var page_title = page_array.pop();
          var page_site = page_array.pop();
        } else if (page_array.length == 1) {
          var page_title = page_array.pop();
        } 

        var titleCompleted = false;
        if (page_subsite != undefined) {
          document.getElementById("page-title-path").innerHTML = "<a href='/" + page_subsite + ".html'>" + titleCase(page_subsite.replaceAll('-', ' ').replaceAll('.html', '')) + "</a>";
        } else {
          document.getElementById("page-title-path").innerHTML = titleCase(page_title.replaceAll('-', ' ').replaceAll('.html', ''));
          titleCompleted = true;
        }
        if (page_directory != undefined && !titleCompleted) {
          document.getElementById("page-title-path").innerHTML += " > <a href='/" + page_subsite + "/" + page_directory + ".html'>" + titleCase(page_directory.replaceAll('-', ' ').replaceAll('.html', '')) + "</a>";
        }
        if (page_category != undefined && !titleCompleted) {
          document.getElementById("page-title-path").innerHTML += " > <a href='/" + page_subsite + "/" + page_directory + "/" + page_category + ".html'>" + titleCase(page_category.replaceAll('-', ' ').replaceAll('.html', '')) + "</a>";
        }
        if (page_title != undefined && !titleCompleted) {
          document.getElementById("page-title-path").innerHTML += " > " + titleCase(page_title.replaceAll('-', ' ').replaceAll('.html', ''));
          titleCompleted = true;
        }


// =========================================================================================
// Populating the page FOOTER
// 
// The page HEADER, BACKGROUND, CONTENT, and FOOTER are static
// =========================================================================================
        $("#import-footer").load("/resources/pages/import-footer.html");
      });
    </script>
  </head>  


  <body>
    <!-- 
      A div for the page BACKGROUND -->
    <div id="page-background-div">
      <!-- 
        A div for the page HEADER -->
      <div id="import-header"></div>
      <!-- 
        A section for the page CONTENT -->
      <section class="page-content-section">
        <!-- 
          A table for the page TITLE -->
        <table id="page-title-table"><thead><tr><td colspan="6"><h2 id="page-title-path"></h2></td></tr></thead><tbody></tbody></table>   
        <!-- 
          A table for the PAGE LIST -->
        <table class="page-list-table">
        </table>
        <!-- 
          A div for the page DESCRIPTION -->
        <div id="page-description-div">
          <p>
            Celestials are good divine beings native to the plane of air. Examples include angels, planetars, and solars.
          </p>
        </div>
      </section>
      <!-- 
        A div for the page FOOTER -->
      <footer id="import-footer"></footer>
    </div>
  </body>
</html>